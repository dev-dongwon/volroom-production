(window.webpackJsonpclient=window.webpackJsonpclient||[]).push([[0],{167:function(e,t){e.exports={privateTypes:[{value:!0,label:"private"},{value:!1,label:"public"}],topicTypes:[{value:"talk",label:"talk"},{value:"jam",label:"jam"}]}},326:function(e,t,a){e.exports=a(614)},588:function(e,t){},603:function(e,t){},605:function(e,t){},613:function(e,t,a){},614:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(13),c=a.n(o),l=a(21),i=Object(n.createContext)(),s=a(266),u=a(650),m=a(652),p=Object(s.a)((function(e){return{button:{margin:e.spacing(1),width:"80%",borderRadius:"12px",backgroundColor:"white",color:"black"},whiteButton:{margin:e.spacing(1),width:"80%",borderRadius:"12px",borderColor:"white",color:"white"},input:{display:"none"},profile:{color:"white",textAlign:"center",marginBottom:"5%"},wrapper:{textAlign:"center"},top:{position:"absoloute"},divider:{marginBottom:"5%"},welcome:{fontWeight:"700",marginRight:e.spacing(1)}}})),d=function(){var e=p(),t=Object(n.useContext)(i),a=t.isAuthenticated,o=t.logout,c=t.user,s=r.a.createElement("div",{className:e.top},r.a.createElement(u.a,{variant:"middle",className:e.divider}),r.a.createElement("div",{className:e.wrapper},r.a.createElement(l.b,{to:"/signup"},r.a.createElement(m.a,{variant:"contained",color:"inherit",className:e.button},"SIGN UP"))),r.a.createElement("div",{className:e.wrapper},r.a.createElement(l.b,{to:"/login"},r.a.createElement(m.a,{variant:"outlined",className:e.whiteButton},"LOGIN"))));return a&&c?function(t){return r.a.createElement("div",{className:e.top},r.a.createElement(u.a,{variant:"middle",className:e.divider}),r.a.createElement("div",{className:e.profile},r.a.createElement("span",{className:e.welcome},"Welcome"),r.a.createElement("span",null,t.name)),r.a.createElement("div",{className:e.wrapper},r.a.createElement(m.a,{variant:"outlined",color:"secondary",className:e.whiteButton,onClick:o},"LOG OUT")))}(c):s},f=a(119),b=a(676),g=a(654),E=a(615),v=a(656),h=a(653),O=a(655),y=a(657),w=Object(n.createContext)(),j=Object(s.a)((function(e){return{root:{width:"100%",backgroundColor:"transparent",textAlign:"center",margin:"auto",marginTop:"10%",color:"white"},text:{paddingLeft:"5%"},item:{paddingLeft:"10%",paddingTop:"5%",paddingBottom:"5%"},list:{marginTop:"10%"}}}));function x(){var e=j(),t=Object(n.useContext)(w),a=Object(n.useContext)(i).isAuthenticated,o=t.setAlert;return r.a.createElement("div",{className:e.root},r.a.createElement(f.a,{variant:"h5",letterSpacing:2},r.a.createElement(b.a,{letterSpacing:6,m:1},r.a.createElement("span",null,r.a.createElement(h.a,null))," ",r.a.createElement("b",null,"Volroom Up"))),r.a.createElement(g.a,{component:"nav","aria-label":"main mailbox folders",className:e.list},r.a.createElement(l.b,{to:"/"},r.a.createElement(E.a,{button:!0,className:e.item},r.a.createElement(O.a,null),r.a.createElement(v.a,{primary:"Home",className:e.text}))),r.a.createElement(l.b,{to:"/lobby",onClick:function(e){a||o("\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud55c \uc11c\ube44\uc2a4\uc785\ub2c8\ub2e4")}},r.a.createElement(E.a,{button:!0,className:e.item},r.a.createElement(y.a,null),r.a.createElement(v.a,{primary:"Play Room",className:e.text})))))}var S=a(658),k=Object(s.a)((function(e){return{nav:{position:"fixed",zIndex:"1",background:"#74BDCB",height:"100vh",width:"100%"}}})),C=function(){var e=k(),t=Object(n.useContext)(i),a=t.loadUser,o=t.user,c=t.token;return Object(n.useEffect)((function(){c&&!o&&a()}),[c,o,a]),r.a.createElement(S.a,{item:!0,xs:!1,sm:2,md:2,className:e.nav},r.a.createElement(x,null),r.a.createElement(d,null))},N=a(660),A=a(18),R=a(16),P=a(659),T=a(675);function L(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var D=Object(s.a)((function(e){return{container:{marginTop:e.spacing(25),textDecoration:"none",backgroundColor:"white"},paper:{marginTop:e.spacing(2),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)},Button:{margin:e.spacing(3,0,2),padding:e.spacing(1.5,0)},divider:{marginTop:e.spacing(2)},subtitle:{textAlign:"center",marginTop:e.spacing(2)}}}));function I(e){var t=D(),a=Object(n.useContext)(w),o=Object(n.useContext)(i),c=a.setAlert,l=o.register,s=o.error,p=o.clearErrors,d=o.isAuthenticated;Object(n.useEffect)((function(){d&&e.history.push("/"),s&&c(s),p()}),[s,d,e.history]);var f=Object(n.useState)({name:"",email:"",password:"",checkPassword:""}),b=Object(R.a)(f,2),g=b[0],E=b[1],v=g.name,h=g.email,O=g.password,y=g.checkPassword,j=function(e){return E(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?L(a,!0).forEach((function(t){Object(A.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):L(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},g,Object(A.a)({},e.target.name,e.target.value)))};return r.a.createElement(P.a,{component:"main",maxWidth:"xs",className:t.container},r.a.createElement(N.a,null),r.a.createElement("div",null,r.a.createElement(m.a,{fullWidth:!0,variant:"contained",color:"secondary",className:t.Button},"Google ID\ub85c \ud68c\uc6d0\uac00\uc785")),r.a.createElement(u.a,{className:t.divider}),r.a.createElement("div",{className:t.paper},r.a.createElement("form",{className:t.form,onSubmit:function(e){e.preventDefault(),""===v||""===h||""===O||""===y?c("\uc785\ub825\ub418\uc9c0 \uc54a\uc740 \uc815\ubcf4\uac00 \uc788\uc2b5\ub2c8\ub2e4"):O!==y?c("\ube44\ubc00\ubc88\ud638\uac00 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4"):l({name:v,email:h,password:O})}},r.a.createElement(T.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"Name",name:"name",autoComplete:"name",autoFocus:!0,value:v,onChange:j}),r.a.createElement(T.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",value:h,onChange:j}),r.a.createElement(T.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:O,onChange:j}),r.a.createElement(T.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"checkPassword",label:"check your password",type:"password",id:"checkPassword",value:y,onChange:j}),r.a.createElement(m.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",value:"register",className:t.Button},"Sign Up"))))}var _=a(271),B=new(a.n(_).a);function M(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var W=Object(s.a)((function(e){return{container:{marginTop:e.spacing(25),textDecoration:"none",backgroundColor:"white"},paper:{marginTop:e.spacing(2),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)},Button:{margin:e.spacing(3,0,2),padding:e.spacing(1.5,0)},divider:{marginTop:e.spacing(2)},subtitle:{textAlign:"center",marginTop:e.spacing(2)}}}));function F(e){var t=W(),a=Object(n.useContext)(w),o=Object(n.useContext)(i),c=a.setAlert,s=o.login,p=o.error,d=o.clearErrors,f=o.isAuthenticated;Object(n.useEffect)((function(){f&&e.history.push("/"),p&&c(p),d()}),[p,f,e.history]);var b=Object(n.useState)({email:"",password:""}),g=Object(R.a)(b,2),E=g[0],v=g[1],h=E.email,O=E.password,y=function(e){return v(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?M(a,!0).forEach((function(t){Object(A.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):M(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},E,Object(A.a)({},e.target.name,e.target.value)))};return r.a.createElement(P.a,{component:"main",maxWidth:"xs",className:t.container},r.a.createElement(N.a,null),r.a.createElement("div",null,r.a.createElement(m.a,{fullWidth:!0,variant:"contained",color:"secondary",className:t.Button},"Google Login")),r.a.createElement(u.a,{className:t.divider}),r.a.createElement("div",{className:t.paper},r.a.createElement("form",{className:t.form,noValidate:!0},r.a.createElement(T.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",value:h,autoFocus:!0,onChange:y}),r.a.createElement(T.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",value:O,autoComplete:"current-password",onChange:y}),r.a.createElement(m.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",value:"login",className:t.Button,onClick:function(e){if(e.preventDefault(),""!==h&&""!==O){var t=B.getBrowser().name,a=B.getOS().name;s({email:h,password:O,os:a,browser:t})}else c("\uc785\ub825\ub418\uc9c0 \uc54a\uc740 \uc815\ubcf4\uac00 \uc788\uc2b5\ub2c8\ub2e4")}},"Sign In"),r.a.createElement(S.a,{container:!0},r.a.createElement(S.a,{item:!0,xs:!0},r.a.createElement(l.b,{to:"/"},"Forgot password?"))))),r.a.createElement(u.a,{className:t.divider}),r.a.createElement("div",{className:t.subtitle},r.a.createElement("b",null,"\uc544\uc9c1 \uc544\uc774\ub514\uac00 \uc5c6\uc73c\uc2e0\uac00\uc694?")),r.a.createElement("div",null,r.a.createElement(l.b,{to:"/signup"},r.a.createElement(m.a,{fullWidth:!0,variant:"outlined",className:t.Button},"\ud68c\uc6d0\uac00\uc785"))))}var G=a(679),z=Object(s.a)((function(e){return{root:{marginLeft:"8%"}}})),U=function(){var e=Object(n.useContext)(w),t=z();return e.alerts.length>0&&e.alerts.map((function(e){return r.a.createElement("div",{key:e.id},r.a.createElement(G.a,{className:t.root,anchorOrigin:{vertical:"top",horizontal:"center"},open:!0,message:e.msg}))}))},V=a(117),H=a(272),K=a.n(H),q=a(273),J=a.n(q),Y=a(274),Q=a.n(Y),X=a(275),Z=a.n(X),$=a(287),ee=a(661);function te(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var ae=[{label:"Afghanistan"},{label:"Aland Islands"},{label:"Albania"},{label:"Algeria"},{label:"American Samoa"},{label:"Andorra"},{label:"Angola"},{label:"Anguilla"},{label:"Antarctica"},{label:"Antigua and Barbuda"},{label:"Argentina"},{label:"Armenia"},{label:"Aruba"},{label:"Australia"},{label:"Austria"},{label:"Azerbaijan"},{label:"Bahamas"},{label:"Bahrain"},{label:"Bangladesh"},{label:"Barbados"},{label:"Belarus"},{label:"Belgium"},{label:"Belize"},{label:"Benin"},{label:"Bermuda"},{label:"Bhutan"},{label:"Bolivia, Plurinational State of"},{label:"Bonaire, Sint Eustatius and Saba"},{label:"Bosnia and Herzegovina"},{label:"Botswana"},{label:"Bouvet Island"},{label:"Brazil"},{label:"British Indian Ocean Territory"},{label:"Brunei Darussalam"}];function ne(e){var t=e.classes,a=e.inputRef,n=void 0===a?function(){}:a,o=e.ref,c=Object(V.a)(e,["classes","inputRef","ref"]);return r.a.createElement(T.a,Object.assign({fullWidth:!0,InputProps:{inputRef:function(e){o(e),n(e)},classes:{input:t.input}}},c))}function re(e,t){var a=t.query,n=t.isHighlighted,o=Q()(e.label,a),c=Z()(e.label,o);return r.a.createElement(ee.a,{selected:n,component:"div"},r.a.createElement("div",null,c.map((function(e){return r.a.createElement("span",{key:e.text,style:{fontWeight:e.highlight?500:400}},e.text)}))))}function oe(e){return e.label}var ce=Object(s.a)((function(e){return{root:{height:250,flexGrow:1},container:{position:"relative"},suggestionsContainerOpen:{position:"absolute",zIndex:1,marginTop:e.spacing(1),left:0,right:0},suggestion:{display:"block"},suggestionsList:{margin:0,padding:0,listStyleType:"none"},divider:{height:e.spacing(2)}}}));function le(){var e,t=ce(),a=r.a.useState({single:"",popper:""}),n=Object(R.a)(a,2),o=n[0],c=n[1],l=r.a.useState([]),i=Object(R.a)(l,2),s=i[0],u=i[1],m={renderInputComponent:ne,suggestions:s,onSuggestionsFetchRequested:function(e){var t=e.value;u(function(e){var t=K()(e.trim()).toLowerCase(),a=t.length,n=0;return 0===a?[]:ae.filter((function(e){var r=n<5&&e.label.slice(0,a).toLowerCase()===t;return r&&(n+=1),r}))}(t))},onSuggestionsClearRequested:function(){u([])},getSuggestionValue:oe,renderSuggestion:re};return r.a.createElement("div",{className:t.root},r.a.createElement(J.a,Object.assign({},m,{inputProps:{classes:t,id:"react-autosuggest-simple",label:"Country",placeholder:"Search a country (start with a)",value:o.single,onChange:(e="single",function(t,a){var n=a.newValue;c(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?te(a,!0).forEach((function(t){Object(A.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):te(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},o,Object(A.a)({},e,n)))})},theme:{container:t.container,suggestionsContainerOpen:t.suggestionsContainerOpen,suggestionsList:t.suggestionsList,suggestion:t.suggestion},renderSuggestionsContainer:function(e){return r.a.createElement($.a,Object.assign({},e.containerProps,{square:!0}),e.children)}})),r.a.createElement("div",{className:t.divider}))}var ie=Object(s.a)((function(e){return{button:{margin:e.spacing(2)},typo:{textAlign:"center",fontWeight:"900",fontSize:"50px",margin:e.spacing(3)},subTtile:{textAlign:"center",margin:e.spacing(3),marginTop:e.spacing(5),fontSize:"25px",fontWeight:"700"},content:{textAlign:"center",margin:e.spacing(3),fontSize:"15px",fontWeight:"500"}}})),se=function(e){var t=ie();return r.a.createElement("div",null,r.a.createElement(f.a,{className:t.typo},"Voloom Up Service"),r.a.createElement(u.a,null),r.a.createElement("div",null,r.a.createElement(f.a,{className:t.subTtile},"Volroom up \uc11c\ube44\uc2a4\uac00 \ubb54\uac00\uc694?"),r.a.createElement(f.a,{className:t.content},"webRTC \ud504\ub85c\ud1a0\ucf5c\uacfc Socket.io\ub97c \ud65c\uc6a9, \uc2e4\uc2dc\uac04\uc73c\ub85c CAM VIDEO\uc640 SCREEN\uc744 \uacf5\uc720\ud558\uba70 \ucc44\ud305\ud560 \uc218 \uc788\ub294 \ud654\uc0c1 \ucc44\ud305 \uc11c\ube44\uc2a4\uc785\ub2c8\ub2e4"),r.a.createElement(f.a,{className:t.content},"\ud604\uc7ac \uae30\ubcf8\uc801\uc778 \ub85c\uceec \ub85c\uadf8\uc778\uacfc \ubc29\uc744 \ub9cc\ub4e4\uc5b4 \uc2e4\uc2dc\uac04 \uc2a4\ud2b8\ub9ac\ubc0d\uc73c\ub85c \ud654\uc0c1 \ucc44\ud305\uc744 \ud560 \uc218 \uc788\ub294 \uae30\ubcf8 \uae30\ub2a5\uc744 \uad6c\ud604\ud588\uc2b5\ub2c8\ub2e4"),r.a.createElement(f.a,{className:t.content},"\ud5a5\ud6c4 private message\uc640 \uce5c\uad6c \ub9fa\uae30 \uae30\ub2a5\uc744 \ucd94\uac00\ud560 \uc608\uc815\uc785\ub2c8\ub2e4")),r.a.createElement(u.a,{variant:"middle"}),r.a.createElement("div",null,r.a.createElement(f.a,{className:t.subTtile},"\uc5b4\ub514\uc5d0 \uc774\uc6a9\ud560 \uc218 \uc788\ub098\uc694?"),r.a.createElement(f.a,{className:t.content},"\uc2e4\uc2dc\uac04 \ube44\ub514\uc624 \ucee8\ud37c\ub7f0\uc2a4, \uc6d0\uaca9 \uc758\ub8cc \uc9c0\uc6d0 \uc11c\ube44\uc2a4, \ud654\uc0c1 \ucc44\ud305 \ub4f1 \uc5ec\ub7ec\uac00\uc9c0 \ubd84\uc57c\uc5d0 \uc751\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4"),r.a.createElement(f.a,{className:t.content},"\ud50c\ub7ec\uadf8\uc778\uc758 \ub3c4\uc6c0\uc5c6\uc774, mobile/web \uc0c1\uad00\uc5c6\uc774 \ud074\ub77c\uc774\uc5b8\ud2b8\uc758 \uc5f0\uacb0\ub9cc\uc73c\ub85c \uc2e4\uc2dc\uac04 \uc2a4\ud2b8\ub9ac\ubc0d\uc744 \ud560 \uc218 \uc788\uae30 \ub54c\ubb38\uc5d0 \ud655\uc7a5\uc131\uc774 \uc88b\ub2e4\uace0 \uc0dd\uac01\ud569\ub2c8\ub2e4")),r.a.createElement(u.a,{variant:"middle"}),r.a.createElement("div",null,r.a.createElement(f.a,{className:t.subTtile},"\uac1c\ubc1c\ud658\uacbd"),r.a.createElement(f.a,{className:t.content},"OS : Linux Ubuntu 18.04"),r.a.createElement(f.a,{className:t.content},"BackEnd : node.js, Express.js"),r.a.createElement(f.a,{className:t.content},"FrontEnd : React.js"),r.a.createElement(f.a,{className:t.content},"Database : MySQL, MongoDB, Redis")),r.a.createElement("div",{className:t.typo},r.a.createElement(l.b,{to:"/lobby"},r.a.createElement(m.a,{variant:"contained",color:"primary",size:"large",className:t.button},"\uc11c\ube44\uc2a4 \uc774\uc6a9\ud558\ub7ec GO!"))))},ue=a(677),me=a(662),pe=a(664),de=a(663),fe=a(665),be=Object(s.a)({card:{width:"21%",height:"200px",margin:"2%",float:"left","&:hover":{backgroundColor:"#ccebff"}},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}}),ge=function(e){var t=e.room,a=be(),o=Object(n.useContext)(i),c=Object(n.useContext)(w),s=o.user,u=c.setAlert,m="/rooms/".concat(t.topic,"/").concat(t.roomId);return r.a.createElement(l.b,{to:m,onClick:function(e){s||(e.preventDefault(),u("\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud55c \uc11c\ube44\uc2a4\uc785\ub2c8\ub2e4"))}},r.a.createElement(me.a,{className:a.card},r.a.createElement(de.a,null,r.a.createElement(f.a,{className:a.title,color:"textSecondary",gutterBottom:!0},t.topic),r.a.createElement(f.a,{variant:"h5",component:"h2"},t.roomName),r.a.createElement(f.a,{className:a.pos,color:"textSecondary"},t.hostId)),r.a.createElement(pe.a,null,r.a.createElement(fe.a,null))))},Ee=a(666),ve=a(667),he=Object(n.createContext)(),Oe=Object(s.a)({root:{width:220,fontSize:"50px",marginLeft:"2rem"},btn:{"&:hover":{backgroundColor:"#ccebff"}}});function ye(){var e=Oe(),t=r.a.useState("all"),a=Object(R.a)(t,2),o=a[0],c=a[1],l=Object(n.useContext)(he).loadRoomsByType;return Object(n.useEffect)((function(){l(o)}),[o]),r.a.createElement(Ee.a,{value:o,onChange:function(e,t){c(t)},showLabels:!0,className:e.root},r.a.createElement(ve.a,{label:"ALL",value:"all",className:e.btn}),r.a.createElement(ve.a,{label:"TALK",value:"talk",className:e.btn}),r.a.createElement(ve.a,{label:"JAM",value:"jam",className:e.btn}))}var we=a(167),je=a(113),xe=a.n(je);function Se(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ke(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Se(a,!0).forEach((function(t){Object(A.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Se(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ce=Object(s.a)((function(e){return{container:{display:"flex",flexWrap:"wrap",padding:"2rem"},button:{margin:e.spacing(2),float:"right"},input:{display:"none"},topHeader:{marginTop:"1rem",marginBottom:"1rem",marginRight:"1rem",textAlign:"center"},modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{background:"white",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),width:"60%",height:"auto",marginLeft:"15%",borderRadius:"15px"},textField:{margin:e.spacing(2)},buttonArea:{textAlign:"center",marginTop:"1rem",marginBottom:"1rem"},typo:{fontWeight:"900",fontSize:"50px",margin:e.spacing(3)}}})),Ne=function(e){var t=Ce(),a=Object(n.useContext)(he),o=Object(n.useContext)(w),c=Object(n.useContext)(i).user,l=a.makeRoom,s=a.loadRooms,u=a.rooms;Object(n.useEffect)((function(){s()}),[]);var p=o.setAlert,d=Object(n.useState)({privateFlag:!1,password:"",open:!1,roomName:"",topic:"",roomId:xe.a.v4()}),b=Object(R.a)(d,2),g=b[0],E=b[1],v=g.open,h=g.privateFlag,O=g.password,y=g.roomName,j=g.topic,x=g.roomId,S=function(e){E(ke({},g,Object(A.a)({},e.target.name,e.target.value)))},k=function(){E(ke({},g,{open:!1}))};return r.a.createElement("div",null,r.a.createElement("div",{className:t.topHeader},r.a.createElement(m.a,{variant:"contained",color:"primary",size:"large",className:t.button,onClick:function(){c?E(ke({},g,{open:!0})):p("\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud55c \uc11c\ube44\uc2a4\uc785\ub2c8\ub2e4")}},"\ubc29 \ub9cc\ub4e4\uae30")),r.a.createElement("div",null,r.a.createElement(f.a,{className:t.typo},"SEARCH & PLAY"),r.a.createElement(ye,null)),r.a.createElement("div",null,u.map((function(e){return r.a.createElement(ge,{room:e,key:e.roomId})}))),r.a.createElement(ue.a,{open:v,className:t.modal,onClose:k},r.a.createElement("div",{className:t.paper},r.a.createElement("form",{className:t.container,noValidate:!0,autoComplete:"off"},r.a.createElement(T.a,{id:"room",label:"\ubc29\uc81c",name:"roomName",className:t.textField,placeholder:"\ubc29\uc81c\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694",variant:"outlined",value:y,onChange:S,fullWidth:!0,autoFocus:!0}),r.a.createElement(T.a,{id:"privateFlag",fullWidth:!0,select:!0,label:"\uacf5\uac1c\uc5ec\ubd80",name:"privateFlag",className:t.textField,value:h,onChange:S,SelectProps:{MenuProps:{className:t.menu}},placeholder:"\uacf5\uac1c \uc5ec\ubd80\ub97c \uc120\ud0dd\ud574\uc8fc\uc138\uc694",margin:"normal",variant:"outlined"},we.privateTypes.map((function(e){return r.a.createElement(ee.a,{key:e.value,value:e.value},e.label)}))),r.a.createElement(T.a,{id:"topic",fullWidth:!0,select:!0,label:"\ud1a0\ud53d",name:"topic",className:t.textField,value:j,onChange:S,SelectProps:{MenuProps:{className:t.menu}},placeholder:"\ub300\ud654 \uc8fc\uc81c\ub97c \uc120\ud0dd\ud574\uc8fc\uc138\uc694",margin:"normal",variant:"outlined"},we.topicTypes.map((function(e){return r.a.createElement(ee.a,{key:e.value,value:e.value},e.label)}))),!0===h?r.a.createElement(T.a,{id:"password",label:"\ube44\ubc00\ubc88\ud638",type:"password",name:"password",fullWidth:!0,value:O,onChange:S,className:t.textField,placeholder:"\ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694",variant:"outlined"}):null),r.a.createElement("div",{className:t.buttonArea},r.a.createElement("span",null,r.a.createElement(m.a,{variant:"outlined",color:"primary",className:t.button,onClick:function(t){t.preventDefault(),y.length<1?p("\ubc29\uc81c\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694"):h&&O.length<1?p("\ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694"):(l({roomId:x,hostId:c.name,roomName:y,privateFlag:h,password:O,topic:j},j),e.history.push("/rooms/".concat(j,"/").concat(x)))}},"create")),r.a.createElement("span",null,r.a.createElement(m.a,{variant:"outlined",color:"secondary",className:t.button,onClick:k},"cancel"))))))},Ae=a(15),Re=a.n(Ae),Pe=a(23),Te=a(168),Le=a.n(Te),De=a(671),Ie=a(672),_e=Object(n.createContext)(),Be=a(670),Me=a(668),We=a(669),Fe=Object(s.a)((function(e){return{root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper},button:{margin:"5px",width:"80px",fontSize:"10px"},input:{display:"none"}}}));function Ge(e){var t=e.userList,a=Fe(),o=Object(n.useContext)(_e),c=o.mySocketId,l=o.localStream,i=o.makePeer,s=function(e){var t=e.target.id;i(l,c,t)};return r.a.createElement(g.a,{dense:!0,className:a.root},Object.keys(t).map((function(e,n){return"username"!==e&&"socketId"!==e?r.a.createElement(E.a,{key:e,button:!0},r.a.createElement(Me.a,null,r.a.createElement(We.a,{alt:e,src:"/avatar.png"})),r.a.createElement("span",null,e),r.a.createElement(Be.a,null,r.a.createElement(m.a,{variant:"outlined",color:"primary",className:a.button,size:"small",id:t[e].socketId,onClick:s},r.a.createElement("span",{id:t[e].socketId},"video call")),r.a.createElement(m.a,{variant:"outlined",color:"secondary",className:a.button,size:"small"},"message"))):null})))}var ze=a(673),Ue=a(674),Ve=a(680);function He(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ke(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?He(a,!0).forEach((function(t){Object(A.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):He(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var qe=Object(s.a)((function(e){return{title:{marginTop:"5%"},chatMenu:{textAlign:"right"},root:{margin:"1rem",padding:e.spacing(3,2),height:"95vh"},flex:{display:"flex"},topicsWindow:{width:"80%",height:"auto"},chatWindow:{width:"350px",height:"95vh"},chatBox:{height:"75%",backgroundColor:"white",overflow:"auto"},messageBox:{height:"10%",backgroundColor:"white"},button:{marginTop:"10px",textAlign:"right"},chip:{marginLeft:"1rem",marginRight:"1rem"},message:{alignItems:"center"},messageWrapper:{padding:"5px"},textBox:{width:"330px"},server:{textAlign:"center",margin:"15px auto 15px auto"},entrance:{fontWeight:"700"},myPlayerArea:{width:"100%",height:"46vh"},fab:{margin:e.spacing(1)},extendedIcon:{marginRight:e.spacing(1)},deleteButton:{margin:e.spacing(3),width:"10%",fontSize:"10px",borderRadius:"10px"},videoBox:{height:"600px"}}})),Je=function(e){var t=e.match,a=e.history,o=qe(),c=Object(n.useContext)(i),l=Object(n.useContext)(_e),s=Object(n.useContext)(w),u=Object(n.useState)({topic:t.params.namespace,roomId:t.params.roomId,userListFlag:!1}),p=Object(R.a)(u,2),d=p[0],b=p[1],g=d.roomId,E=d.topic,v=d.userListFlag,h=c.user,O=s.setAlert,y=l.chatList,j=l.userList,x=l.leaveRoom,k=l.sendChat,C=l.localStream,N=l.windowBackEvent,P=l.joinRoom,L=l.currentRoom,D=l.remoteStream,I=l.setStream,_=l.deleteRoom;Object(n.useEffect)((function(){function e(){return(e=Object(Pe.a)(Re.a.mark((function e(){return Re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(E,g,h);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}h&&function(){e.apply(this,arguments)}(),N()}),[h,g,C]);var B=Object(n.useRef)(null),M=Object(n.useState)(""),W=Object(R.a)(M,2),F=W[0],G=W[1],z=function(e){h?""!==F?(!function(e){k(e)}({roomId:g,from:h.name,msg:F}),G("")):O("\ub0b4\uc6a9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694"):O("\ub85c\uadf8\uc778`\uc774 \ud544\uc694\ud569\ub2c8\ub2e4")};return r.a.createElement("div",{className:o.root},r.a.createElement("div",{className:o.flex},r.a.createElement("div",{className:o.topicsWindow},r.a.createElement("div",{className:o.myPlayerArea},r.a.createElement(S.a,{container:!0,spacing:3},r.a.createElement(S.a,{item:!0,xs:12},r.a.createElement(De.a,{variant:"extended",size:"medium",color:"primary",className:o.fab,onClick:function(){I("video")}},r.a.createElement(fe.a,{className:o.extendedIcon}),"Get My CAM"),r.a.createElement(De.a,{variant:"extended",size:"medium",color:"secondary",className:o.fab,onClick:function(){I("screen")}},r.a.createElement(Ie.a,{className:o.extendedIcon}),"Get my Screen")),r.a.createElement(S.a,{item:!0,xs:12,sm:8,className:o.videoBox},r.a.createElement(Le.a,{playing:!0,url:C,width:"100%",height:"100%",ref:B})),r.a.createElement(S.a,{item:!0,xs:12,sm:4},D?r.a.createElement(Le.a,{playing:!0,url:D,width:"80%",height:"80%"}):null),r.a.createElement(S.a,{item:!0,xs:12},r.a.createElement(f.a,{variant:"h3"},L?L.roomName:null),r.a.createElement(f.a,{variant:"h6"},L?"by ".concat(L.hostId):null,h&&L&&h.name===L.hostId?r.a.createElement(m.a,{className:o.deleteButton,variant:"outlined",size:"small",color:"secondary",onClick:function(e){_(L.topic,L.roomId,h),a.push("/lobby")}},"Delete Room"):r.a.createElement(m.a,{className:o.deleteButton,variant:"outlined",size:"small",color:"secondary",onClick:function(){x(),a.push("/lobby")}},"Exit Room")))))),r.a.createElement("div",{className:o.chatWindow},r.a.createElement(ze.a,{position:"static"},r.a.createElement("div",{className:o.chatMenu},r.a.createElement("span",null,"LIVE CHAT"),r.a.createElement("span",null,r.a.createElement(Ue.a,{color:"inherit",onClick:function(){b(Ke({},d,v?{userListFlag:!1}:{userListFlag:!0}))}},r.a.createElement(fe.a,null))))),v?r.a.createElement("div",{className:o.chatBox},r.a.createElement(Ge,{userList:j})):r.a.createElement("div",{className:o.chatBox},y.map((function(e,t){return"server:entrance"===e.from?r.a.createElement("div",{className:o.server,key:t},r.a.createElement("span",{className:o.entrance},e.msg),r.a.createElement("span",null,"\ub2d8\uc774 \uc785\uc7a5\ud558\uc168\uc2b5\ub2c8\ub2e4")):r.a.createElement("div",Object(A.a)({className:o.flex,key:t},"className",o.messageWrapper),r.a.createElement(Ve.a,{label:e.from,className:o.chip}),e.msg)}))),r.a.createElement("div",{className:o.messageBox},r.a.createElement("div",null,r.a.createElement(T.a,{id:"standard-name",className:o.textBox,placeholder:"Send a chat",value:F,onChange:function(e){return G(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&z(e)}})),r.a.createElement("div",{className:o.button},r.a.createElement(m.a,{variant:"contained",color:"primary",onClick:z},"send"))))))},Ye=a(29),Qe={browserData:function(e){var t=e.filter((function(e){return"Chrome"===e.browser})),a=e.filter((function(e){return"Firefox"===e.browser})),n=e.filter((function(e){return"Explorer"===e.browser})),r=[{type:"chrome",chrome:t.length},{type:"fireFox",fireFox:a.length},{type:"explorer",exlorer:n.length}];return r},osData:function(e){var t=e.filter((function(e){return"Linux"===e.os})),a=e.filter((function(e){return"Windows"===e.os})),n=e.filter((function(e){return"Windows"!==e.os&&"Linux"!==e.os})),r=[{type:"linux",num:t.length,fill:"#8884d8"},{type:"windows",num:a.length,fill:"#8dd1e1"},{type:"other",num:n.length,fill:"#a4de6c"}];return r}},Xe=function(e){var t,a=e.logData,n=e.type;if("browser"===n){var o=Qe.browserData(a);return t=o,r.a.createElement(Ye.b,{width:730,height:250,data:t,barSize:6},r.a.createElement(Ye.h,{dataKey:"type"}),r.a.createElement(Ye.i,null),r.a.createElement(Ye.g,null),r.a.createElement(Ye.f,null),r.a.createElement(Ye.a,{dataKey:"chrome",fill:"#82ca9d"}),r.a.createElement(Ye.a,{dataKey:"fireFox",fill:"#8884d8"}),r.a.createElement(Ye.a,{dataKey:"Explorer",fill:"blue"}))}if("os"===n)return function(e){return r.a.createElement(Ye.d,{width:730,height:250},r.a.createElement(Ye.g,null),r.a.createElement(Ye.c,{dataKey:"num",data:e,isAnimationActive:!0},r.a.createElement(Ye.e,{position:"right",fill:"#000",stroke:"none",dataKey:"type"})))}(Qe.osData(a))},Ze=Object(n.createContext)(),$e=Object(s.a)({root:{width:250,fontSize:"50px",marginLeft:"2rem"},btn:{width:"500px","&:hover":{backgroundColor:"#ccebff"}}});function et(){var e=$e(),t=r.a.useState("browser"),a=Object(R.a)(t,2),o=a[0],c=a[1],l=Object(n.useContext)(Ze).changeType;return Object(n.useEffect)((function(){l(o)}),[o]),r.a.createElement(Ee.a,{value:o,onChange:function(e,t){c(t)},showLabels:!0,className:e.root},r.a.createElement(ve.a,{label:"BROWSER",value:"browser",className:e.btn}),r.a.createElement(ve.a,{label:"OS",value:"os",className:e.btn}),r.a.createElement(ve.a,{label:"USER",value:"time",className:e.btn}))}var tt=Object(s.a)((function(e){return{typo:{fontWeight:"900",fontSize:"50px",margin:e.spacing(3)},dashboard:{paddingTop:"10%"}}})),at=function(e){var t=tt(),a=Object(n.useContext)(Ze),o=a.logData,c=a.loadData,l=a.type;return Object(n.useEffect)((function(){c()}),[]),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(f.a,{className:t.typo},"Statistics for Insight"),r.a.createElement(et,null),r.a.createElement("div",{className:t.dashboard},r.a.createElement(Xe,{logData:o,type:l}))))},nt=a(54),rt=function(e){var t=e.component,a=Object(V.a)(e,["component"]),o=Object(n.useContext)(i).isAuthenticated;return r.a.createElement(nt.b,Object.assign({},a,{render:function(e){return o?r.a.createElement(t,e):r.a.createElement(nt.a,{to:"/login"})}}))},ot=function(){return r.a.createElement(n.Fragment,null,r.a.createElement(S.a,{item:!0,xs:!1,sm:2,md:2}),r.a.createElement(S.a,{item:!0,xs:!1,sm:10,md:10,className:"content"},r.a.createElement(U,null),r.a.createElement(nt.d,null,r.a.createElement(nt.b,{exact:!0,path:"/",component:se}),r.a.createElement(nt.b,{exact:!0,path:"/signup",component:I}),r.a.createElement(nt.b,{exact:!0,path:"/login",component:F}),r.a.createElement(nt.b,{exact:!0,path:"/search",component:le}),r.a.createElement(nt.b,{exact:!0,path:"/lobby",component:Ne}),r.a.createElement(nt.b,{exact:!0,path:"/admin",component:at}),r.a.createElement(rt,{exact:!0,path:"/rooms/:namespace/:roomId",component:Je}))))},ct=a(283),lt=a.n(ct).a.create({baseURL:"https://server-dev.ap-northeast-2.elasticbeanstalk.com/"});function it(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function st(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?it(a,!0).forEach((function(t){Object(A.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):it(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ut=function(e,t){switch(t.type){case"USER_LOADED":return st({},e,{isAuthenticated:!0,loading:!1,user:t.payload});case"REGISTER_SUCCESS":case"LOGIN_SUCCESS":return localStorage.setItem("token",t.payload.token),st({},e,{},t.payload,{isAuthenticated:!0,loading:!1});case"REGISTER_FAIL":case"AUTH_ERROR":case"LOGIN_FAIL":case"LOGOUT":return localStorage.removeItem("token"),st({},e,{token:null,isAuthenticated:!1,loading:!1,user:null,error:t.payload});case"CLEAR_ERRORS":return st({},e,{error:null});default:return e}},mt=function(e){e?lt.defaults.headers.common["x-auth-token"]=e:delete lt.defaults.headers.common["x-auth-token"]},pt=function(e){var t={token:localStorage.getItem("token"),isAuthenticated:null,loading:!0,user:null,error:null},a=Object(n.useReducer)(ut,t),o=Object(R.a)(a,2),c=o[0],l=o[1],s=c.token,u=c.isAuthenticated,m=c.loading,p=c.user,d=c.error,f=function(){var e=Object(Pe.a)(Re.a.mark((function e(){var t;return Re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.token&&mt(localStorage.token),e.prev=1,e.next=4,lt.get("/api/auth");case 4:t=e.sent,l({type:"USER_LOADED",payload:t.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),l({type:"AUTH_ERROR"});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(Pe.a)(Re.a.mark((function e(t){var a,n;return Re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,lt.post("/api/users",t,a);case 4:n=e.sent,l({type:"REGISTER_SUCCESS",payload:n.data}),f(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),l({type:"REGISTER_FAIL",payload:e.t0.response.data.msg});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(Pe.a)(Re.a.mark((function e(t){var a,n;return Re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,lt.post("/api/auth",t,a);case 4:n=e.sent,l({type:"LOGIN_SUCCESS",payload:n.data}),f(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),l({type:"LOGIN_FAIL",payload:e.t0.response.data.msg});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(i.Provider,{value:{token:s,isAuthenticated:u,loading:m,user:p,error:d,register:b,loadUser:f,login:g,logout:function(){return l({type:"LOGOUT"})},clearErrors:function(){return l({type:"CLEAR_ERRORS"})}}},e.children)},dt=a(116),ft=function(e,t){switch(t.type){case"SET_ALERT":return[].concat(Object(dt.a)(e),[t.payload]);case"REMOVE_ALERT":return e.filter((function(e){return e.id!==t.payload}));default:return e}},bt=function(e){var t=Object(n.useReducer)(ft,[]),a=Object(R.a)(t,2),o=a[0],c=a[1],l=function(e){c({type:"REMOVE_ALERT",payload:e})};return r.a.createElement(w.Provider,{value:{alerts:o,setAlert:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=xe.a.v4();c({type:"SET_ALERT",payload:{msg:e,id:a,open:t}}),setTimeout((function(){l(a)}),6e3)},removeAlert:l}},e.children)};function gt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Et(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?gt(a,!0).forEach((function(t){Object(A.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):gt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var vt=function(e,t){switch(t.type){case"MAKE_ROOM":return Et({},e,{room:t.payload});case"LOAD_ROOMS":return Et({},e,{rooms:t.payload});default:return e}},ht=function(e){var t=Object(n.useReducer)(vt,{rooms:[],room:""}),a=Object(R.a)(t,2),o=a[0],c=a[1],l=o.rooms,i=o.room,s=function(){var e=Object(Pe.a)(Re.a.mark((function e(t){var a,n;return Re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,lt.get("/api/rooms/".concat(t));case 3:a=e.sent,n=a.data,c({type:"LOAD_ROOMS",payload:n}),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(Pe.a)(Re.a.mark((function e(){var t,a;return Re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,lt.get("/api/rooms");case 3:t=e.sent,a=t.data,c({type:"LOAD_ROOMS",payload:a}),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(Pe.a)(Re.a.mark((function e(t,a){var n,r,o;return Re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,lt.post("/api/rooms/".concat(a),t,n);case 4:r=e.sent,o=r.data,c({type:"MAKE_ROOM",payload:o}),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a){return e.apply(this,arguments)}}();return r.a.createElement(he.Provider,{value:{makeRoom:m,loadRooms:u,loadRoomsByType:s,room:i,rooms:l}},e.children)},Ot=a(284),yt=a.n(Ot),wt=a(285),jt=a.n(wt),xt=a(286),St=a.n(xt);function kt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ct(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?kt(a,!0).forEach((function(t){Object(A.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):kt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Nt,At,Rt=function(e,t){switch(t.type){case"CLEAR_ROOM_STATE":return{chatList:[],userList:{},localStream:null,remoteStream:null,remoteStreamArr:[],remotePeerArr:[],currentRoom:"",mySocketId:null};case"SET_MY_SOCKET":return Ct({},e,{mySocketId:t.payload});case"UPDATE_ROOM":var a=t.payload.user,n=a.username;return Ct({},e,{userList:Ct({},e.userList,{},e.userList[n]=a)});case"SET_LOCAL_STREAM":return Ct({},e,{localStream:t.payload});case"SET_REMOTE_STREAM":return Ct({},e,{remoteStream:t.payload});case"JOIN_ROOM":return Ct({},e,{currentRoom:t.payload});case"RECEIVE_CHAT":return Ct({},e,{chatList:[].concat(Object(dt.a)(e.chatList),[t.payload])});case"LEAVE_ROOM":return Ct({},e,{chatList:[],userList:[],currentRoom:""});default:return e}},Pt={},Tt=function(e){var t=Object(n.useContext)(w).setAlert,a=Object(n.useReducer)(Rt,{chatList:[],userList:{},localStream:null,remoteStream:null,remoteStreamArr:[],remotePeerArr:[],currentRoom:"",mySocketId:null}),o=Object(R.a)(a,2),c=o[0],l=o[1],i=c.chatList,s=c.userList,u=c.currentRoom,m=c.localStream,p=c.remoteStream,d=c.remoteStreamArr,f=c.remotePeerArr,b=c.mySocketId,g=function(e,t){return(At=new jt.a({initiator:"init"===e,wrtc:St.a,stream:t,trickle:!1})).on("stream",(function(e){j(e)})),At.on("close",(function(){l({type:"SET_REMOTE_STREAM",payload:null}),l({type:"SET_LOCAL_STREAM",payload:null}),At.destory()})),At},E=function(){var e=Object(Pe.a)(Re.a.mark((function e(){return Re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m.getTracks().forEach((function(e){return e.stop()})),Nt=null,Pt={},At=null;case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(e,t){At.on("signal",(function(a){Pt.answer||Nt.emit("offer",{data:a,mySocketId:e,targetSocketId:t})}))},h=function(e){Nt.on("backOffer",(function(t){O(e,t)}))},O=function(e,t){var a=t.offer,n=t.targetSocketId,r=t.mySocketId;(At=g("notInit",e)).on("signal",(function(e){Nt.emit("answer",{data:e,targetSocketId:n,mySocketId:r})})),At.signal(a)},y=function(e){var t=e.answer;Pt.answer=!0,At=Pt.peer,t&&At.signal(t)},j=function(e){l({type:"SET_REMOTE_STREAM",payload:e})},x=function(){var e=Object(Pe.a)(Re.a.mark((function e(a,n,r){var o,c,i;return Re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,lt.get("/api/rooms/".concat(a,"/").concat(n),o);case 4:c=e.sent,i=c.data,l({type:"JOIN_ROOM",payload:i}),""!==i&&k(a,r,n,i),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0),t("\uc7a0\uc2dc \ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694");case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,a,n){return e.apply(this,arguments)}}(),S=function(){var e=Object(Pe.a)(Re.a.mark((function e(a,n,r){var o;return Re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,lt.delete("/api/rooms/".concat(a,"/").concat(n));case 3:o=e.sent,console.log(o),l({type:"CLEAR_ROOM_STATE",payload:null}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0),t("\uc7a0\uc2dc \ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a,n){return e.apply(this,arguments)}}(),k=function(e,t,a,n){Nt||(Nt=yt()("server-dev.ap-northeast-2.elasticbeanstalk.com/".concat(e),{query:{username:t.name,roomId:a}}),T(),A(),C(),N(),P(),Nt.emit("join",a),Nt.emit("mySocket"))},C=function(){Nt.on("socketAnswer",(function(e){l({type:"SET_MY_SOCKET",payload:e})}))},N=function(){Nt.on("chat",(function(e){l({type:"RECEIVE_CHAT",payload:e})}))},A=function(){Nt.on("join",(function(e){l({type:"RECEIVE_CHAT",payload:e})}))},P=function(){Nt.on("sendUserInfo",(function(e){e&&l({type:"UPDATE_ROOM",payload:e})}))},T=function(){Nt.on("enter",(function(){Nt.emit("enter")}))},L=function(){Nt.emit("close"),Nt.close(),Nt=null,l({type:"CLEAR_ROOM_STATE",payload:null})},D=function(){var e=Object(Pe.a)(Re.a.mark((function e(t){var a;return Re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("video"!==t){e.next=4;break}return e.next=3,navigator.mediaDevices.getUserMedia({audio:!0,video:{width:1280,height:720}});case 3:a=e.sent;case 4:if("screen"!==t){e.next=8;break}return e.next=7,navigator.mediaDevices.getDisplayMedia({video:!0,audio:!0});case 7:a=e.sent;case 8:l({type:"SET_LOCAL_STREAM",payload:a}),h(a),Nt.on("backAnswer",(function(e){y(e)}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(_e.Provider,{value:{chatList:i,userList:s,leaveRoom:L,sendChat:function(e){Nt.emit("chat",e)},connectRoom:k,windowBackEvent:function(){window.addEventListener("popstate",(function(e){L(),window.location=document.referrer}),!1)},joinRoom:x,localStream:m,remoteStreamArr:d,remotePeerArr:f,currentRoom:u,remoteStream:p,mySocketId:b,makePeer:function(e,t,a){At=g("init",e),Pt.answer=!1,Pt.peer=At,v(t,a)},closePeer:E,setStream:D,exitRoom:function(){l({type:"CLEAR_ROOM_STATE",payload:null})},deleteRoom:S}},e.children)};function Lt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Dt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Lt(a,!0).forEach((function(t){Object(A.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Lt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var It=function(e,t){switch(t.type){case"GET_LOGS":return Dt({},e,{logData:t.payload});case"GET_LOG_TYPES":return Dt({},e,{type:t.payload});default:return e}},_t=function(e){var t=Object(n.useReducer)(It,{logData:[],type:"browser"}),a=Object(R.a)(t,2),o=a[0],c=a[1],l=o.logData,i=o.type,s=function(){var e=Object(Pe.a)(Re.a.mark((function e(){var t;return Re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,lt.get("/api/logs");case 3:t=e.sent,c({type:"GET_LOGS",payload:t.data}),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(Ze.Provider,{value:{logData:l,loadData:s,changeType:function(e){c({type:"GET_LOG_TYPES",payload:e})},type:i}},e.children)},Bt=(a(613),function(){return r.a.createElement(bt,null,r.a.createElement(pt,null,r.a.createElement(ht,null,r.a.createElement(Tt,null,r.a.createElement(_t,null,r.a.createElement(l.a,null,r.a.createElement(S.a,{container:!0},r.a.createElement(N.a,null),r.a.createElement(C,null),r.a.createElement(ot,null))))))))});c.a.render(r.a.createElement(Bt,null),document.getElementById("root"))}},[[326,1,2]]]);
//# sourceMappingURL=main.108d4c0d.chunk.js.map